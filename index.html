<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Know it all - AI Search</title>
    <script src="https://www.gstatic.com/generativeai/v1/embedding.js"></script>
</head>
<body>
    <main>
        <div class="hero">
            <h1>Know it all</h1>
            <p class="subtitle">Discover answers to everything with AI-powered search</p>
        </div>

        <div class="search-container">
            <div class="search-box">
                <input type="text" placeholder="Search anything..." id="searchInput">
                <div class="search-actions">
                    <button class="attach-btn">üìé</button>
                    <div class="divider"></div>
                    <button class="search-btn">‚Üí</button>
                </div>
            </div>

            <div class="result-box" id="resultBox"></div>

            <div class="suggestions">
                <button class="suggestion-btn"><span>üî¥</span> Who is C programming founder</button>
                <button class="suggestion-btn"><span>üë©‚Äçüç≥</span> Bestselling cookbooks this year</button>
                <button class="suggestion-btn"><span>üìà</span> Will US interest rates go down this year?</button>
                <button class="suggestion-btn"><span>üó≥Ô∏è</span> Registration deadlines for the US election</button>
            </div>
        </div>

       
    </main>

    <script>
        // Obfuscate API key (just a simple method for demonstration)
        const encryptedAPIKey = atob('QUl6YVN5Q3U1c3M4LVVhd3FsY2dhVkpqYmtKNkwwbzZobnp6Uzdn'); // Replace with actual base64 encoding of your API key

        const searchInput = document.getElementById('searchInput');
        const resultBox = document.getElementById('resultBox');
        const searchBtn = document.querySelector('.search-btn');

        async function searchQuery() {
            const query = searchInput.value.trim();
            if (!query) return;

            resultBox.style.display = 'block';
            resultBox.innerHTML = '<div class="loader"></div>';

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${encryptedAPIKey}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: query
                            }]
                        }]
                    })
                });

                const data = await response.json();

                if (data.candidates && data.candidates[0].content.parts[0].text) {
                    const text = data.candidates[0].content.parts[0].text;
                    typeText(text);
                } else {
                    throw new Error('Invalid response format');
                }
            } catch (error) {
                resultBox.innerHTML = '<p class="error">Sorry, there was an error processing your request.</p>';
            }
        }

        function typeText(text) {
            resultBox.innerHTML = '';
            let index = 0;

            function type() {
                if (index < text.length) {
                    resultBox.innerHTML += text.charAt(index);
                    index++;
                    setTimeout(type, 10); // Typing speed increased here
                }
            }

            type();
        }

        searchBtn.addEventListener('click', searchQuery);
        searchInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') searchQuery();
        });

        document.querySelectorAll('.suggestion-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                searchInput.value = btn.textContent.slice(2);
                searchQuery();
            });
        });
    </script>
</body>
</html>